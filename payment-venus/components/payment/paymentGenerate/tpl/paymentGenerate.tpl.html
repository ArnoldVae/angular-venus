<!--结算单生成页面-->
<div class="section venus_hasFooter">
    <!--查询部分-->
    <div class="row list_query">
        <div class="col-xs-5">
            <div class="input-group">
                <input placeholder="请输入保/批单号" type="text" class="form-control" ng-model="paymentGenerate.adviceOfSettlementCondition.policyNoStart">
                <span class="input-group-addon cursor_pointer" ng-click="searchAdviceOfSettlement()">
                    <div class="glyphicon glyphicon-search"></div>
                </span>
            </div>
        </div>

        <div ng-show="!paymentGenerate.status.moreFlag" class="col-xs-4 col-sm-2 col-md-2 list_query_font"><span ng-click="paymentGenerate.status.moreFlag=!paymentGenerate.status.moreFlag">高级查询</span></div>
        <div ng-show="paymentGenerate.status.moreFlag" class="col-xs-4 col-sm-2 col-md-2 list_query_font"><span ng-click="paymentGenerate.status.moreFlag=!paymentGenerate.status.moreFlag ">普通查询</span></div>
    </div>

    <!--高级查询表单-->
    <div class="mc_form" ng-if="paymentGenerate.status.moreFlag">
        <form class="form-horizontal">
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">保/批单号 从：</label>
                <div class="col-xs-7">
                    <input type="text" ng-model="paymentGenerate.adviceOfSettlementCondition.policyNoStart" class="col-xs-12">
                </div>
                <span class="color_red">*</span>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">到：</label>
                <div class="col-xs-7">
                    <input type="text" class="col-xs-12" ng-model="paymentGenerate.adviceOfSettlementCondition.policyNoEnd">
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">保/批单号列表：</label>
                <div class="col-xs-7">
                    <textarea rows="3" class="col-xs-12" ng-model="paymentGenerate.adviceOfSettlementCondition.policyNoList"></textarea>
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">代理人/经纪人：</label>
                <div class="col-xs-7">
                    <select-list selectType="queryAgent"
                                 data="{centerCode:centerCode}"
                                 ng-model="paymentGenerate.adviceOfSettlementCondition.agentCode"
                                 ng-value="paymentGenerate.adviceOfSettlementCondition.agentCode1"
                                 my-class="col-xs-12">
                    </select-list>
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">业务部门：</label>
                <div class="col-xs-7">
                    <select-list selectType="salesDepartment"
                                 data='{"comCode":comCode,"centerCode":centerCode}'
                                 ng-model="paymentGenerate.adviceOfSettlementCondition.comCode"
                                 ng-value="paymentGenerate.adviceOfSettlementCondition.businessPart"
                                 wait-change="clearOperator()"
                                 my-class="col-xs-12">
                    </select-list>
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">业务员：</label>
                <div class="col-xs-7">
                    <select-list  selectType="operatorName"
                                  data='{"comCode":comCode,"checkComCode":paymentGenerate.adviceOfSettlementCondition.comCode}'
                                  ng-model="paymentGenerate.adviceOfSettlementCondition.businessCode"
                                  ng-value="paymentGenerate.adviceOfSettlementCondition.businessMan"
                                  my-class="col-xs-12">
                    </select-list>
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">业务渠道：</label>
                <div class="col-xs-7">
                    <select-list base-code="businessNature"
                                 ng-model="paymentGenerate.adviceOfSettlementCondition.businessNature"
                                 ng-value="paymentGenerate.adviceOfSettlementCondition.business"
                                 my-class="col-xs-12">
                    </select-list>
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">应付币种：</label>
                <div class="col-xs-7">
                    <select-list base-code="Currency"
                                 ng-model="paymentGenerate.adviceOfSettlementCondition.currency1"
                                 ng-value="paymentGenerate.adviceOfSettlementCondition.Currency"
                                 my-class="col-xs-12">
                    </select-list>
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">险种：</label>
                <div class="col-xs-7">
                    <select-list base-code="riskCode"
                                 force-remote="true"
                                 ng-model="paymentGenerate.adviceOfSettlementCondition.riskCode"
                                 ng-value="paymentGenerate.adviceOfSettlementCondition.RiskType"
                                 my-class="col-xs-12">
                    </select-list>
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">投保人名称：</label>
                <div class="col-xs-7">
                    <input type="text" ng-model="paymentGenerate.adviceOfSettlementCondition.appliName"  class="col-xs-12">
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">被保险人名称：</label>
                <div class="col-xs-7">
                    <input type="text" ng-model="paymentGenerate.adviceOfSettlementCondition.insuredName" class="col-xs-12">
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">统计日期：</label>
                <div class="col-xs-7">
                    <input type="text" class="col-xs-5 date" ng-model="paymentGenerate.adviceOfSettlementCondition.statisticsDateStart"  id="date1" jedate format="YYYY-MM-DD">
                    <span class="col-xs-2 text-center">至</span>
                    <input type="text" class="col-xs-5 date" ng-model="paymentGenerate.adviceOfSettlementCondition.statisticsDateEnd"  id="date2" jedate format="YYYY-MM-DD">
                </div>
            </div>
            <div class="form-group col-xs-12 col-sm-12 col-md-6">
                <label class="col-xs-4">费用类型：</label>
                <div class="col-xs-7">
                    <div mc-code-select class="col-xs-12 pl0 pr0" aria-disabled="true" aria-readonly="true" code="poundageType" ng-model="paymentGenerate.adviceOfSettlementCondition.commisionType"></div>
                </div>
            </div>
            <div class="form-group"></div>
            <div class="row list_queryForm_btn">
                <button class="btn btn-success" ng-click="searchAdviceOfSettlement()">查询</button>
                <button class="btn btn-primary" ng-click="resetAdviceOfSettlement()">重置</button>
            </div>
        </form>
    </div>

    <!--列表内容-->
    <div class="venus_table">
        <table class="table table-bordered">
                <thead>
                <tr>
                    <!--<th><input type="checkbox" ng-model="paymentGenerate.adviceOfSettlementCondition.adviceOfSettlementCheckedAll" ng-change="checkedAdviceOfSettlementAll();changeAdviceOfSettlementClass()"></th>-->
                    <th>序号</th>
                    <th>保单号/批单号</th>
                    <th>业务员</th>
                    <th>业务渠道</th>
                    <th>代理人/经办人</th>
                    <th>险种</th>
                    <th>投保人</th>
                    <th>共保人</th>
                    <th>起保日期</th>
                    <th>交费期数</th>
                    <th>保单币种</th>
                    <th>保/批单当期应付手续费</th>
                    <th>手续费支出</th>
                    <th>税率</th>
                    <th>进项税</th>
                    <th>已支付/已生成结算单手续费</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="d in paymentGenerate.adviceOfSettlementList">
                    <!--<td><input type="checkbox" ng-model="d.checked" ng-change="checkedAdviceOfSettlementOne();changeAdviceOfSettlementClass()"></td>-->
                    <td>{{$index+1}}</td>
                    <td><a href="" ng-click="moreFormData(d)">{{d.policyNo}}</a></td>
                    <td>{{d.businessName}}</td>
                    <td>{{d.businessNatureName}}</td>
                    <td>{{d.agentName}}</td>
                    <td>{{d.riskName}}</td>
                    <td>{{d.appliName}}</td>
                    <td>{{d.coinsName}}</td>
                    <td>{{d.startDate}}</td>
                    <td>{{d.planSerialNo}}/{{d.payNo}}</td>
                    <td>{{d.currency1}}</td>
                    <td>{{d.taxDisFee|format}}</td>
                    <td>{{d.planFee|format}}</td>
                    <td>{{d.vatRate}}</td>
                    <td>{{d.taxFee|format}}</td>
                    <td>{{d.packPrintFee|format}}</td>
                </tr>
                </tbody>
            </table>
    </div>

    <!--表格底部-->
    <div ng-if="paymentGenerate.pagination.totalItems>0" class="row list_content_bottom">
        <span class="text-left" align="bottom">共{{paymentGenerate.pagination.totalItems}}条记录</span>
        <pagination ng-if="paymentGenerate.pagination.totalItems>paymentGenerate.pagination.pageSize"
                ng-model="paymentGenerate.pagination.pageIndex" class="paymentGenerate.pagination-sm pull-right" total-items="paymentGenerate.pagination.totalItems"
                    page="paymentGenerate.pagination.pageIndex" items-per-page="paymentGenerate.pagination.pageSize" max-size="paymentGenerate.pagination.maxSize"
                    previous-text="上一页" next-text="下一页" first-text="首页" last-text="末页" class=""
                    ng-click="searchAdviceOfSettlement('page')" style="margin: 0 20px 20px 0;" boundary-links="true"
                    on-select-page="onSelectPage(page)"></pagination>
    </div>

    <!--列表底部悬浮块-->
    <div class="row text-center list_footer">
        <div class="input-group col-xs-3" style="float: left">
            <input placeholder="请选择要上传的文件" type="text" class="form-control" ng-model="fileItem.name">
            <a href="javascript:;" class="input-group-addon cursor_pointer">
                <div class="glyphicon">浏览</div>
                <input name="certificate" nv-file-select uploader="uploader" ng-click="clearItems()"
                       type="file" class="collectscene_file_item" multiple/>
            </a>
        </div>
        <div class="col-xs-7">
            <button class="btn btn-success pull-left" ng-click="submitImport()">提交</button>
            <button class="btn btn-primary pull-left margin-left-6" ng-click="templateDownload()">模板下载</button>
        </div>
        <div class="col-xs-2">
            <button class="btn btn-success pull-right" ng-click="confirmAdviceOfSettlement()"  ng-if="paymentGenerate.adviceOfSettlementList.length>0">确定</button>
        </div>
    </div>
</div>