<!--付赔款页面-->
<div class="section venus_hasFooter">
    <!--查询部分-->
    <div class="row list_query">
        <div class="col-xs-5">
            <div class="input-group">
                <input placeholder="请输入计算书号" type="text" style="" class="form-control"
                       ng-model="payClaim.claimQuery.compensateNo">
                <span class="input-group-addon cursor_pointer" ng-click="claimSearch('alertFlag')">
                    <div class="glyphicon glyphicon-search"></div>
                </span>
            </div>
        </div>

        <div ng-show="!payClaim.status.moreFlag" class="col-xs-4 col-sm-2 col-md-2 list_query_font"><span ng-click="payClaim.status.moreFlag=!payClaim.status.moreFlag">高级查询</span></div>
        <div ng-show="payClaim.status.moreFlag" class="col-xs-4 col-sm-2 col-md-2 list_query_font"><span ng-click="payClaim.status.moreFlag=!payClaim.status.moreFlag ">普通查询</span></div>
    </div>

    <!--高级查询表单-->
    <div class="mc_form" ng-if="payClaim.status.moreFlag">

        <form class="form-horizontal">
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4" >计算书号：</label>
                <div class="col-xs-7">
                    <input class="col-xs-12" type="text" ng-model="payClaim.claimQuery.compensateNo">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4" >保单号：</label>
                <div class="col-xs-7">
                    <input class="col-xs-12" type="text" ng-model="payClaim.claimQuery.policyNo">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">险种：</label>
                <div class="col-xs-7">
                    <select-list base-code="riskCode"
                                 my-class="col-xs-12"
                                 force-remote="true"
                                 ng-model="payClaim.claimQuery.riskCode"
                                 ng-value="payClaim.claimQuery.riskName">
                    </select-list>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">币种：</label>
                <div class="col-xs-7">
                    <select-list base-code="baseCurrency"
                                 my-class="col-xs-12"
                                 ng-model="payClaim.claimQuery.currency1"
                                 ng-value="payClaim.claimQuery.currency1Name"
                    >
                    </select-list>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">计算书号清单：</label>
                <div class="col-xs-7">
                    <textarea class="col-xs-12" class="form-control ng-pristine ng-valid" id="t1" cols="25" rows="3" ng-model="payClaim.claimQuery.compensateNoList"></textarea>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">业务部门：</label>
                <div class="col-xs-7">
                    <select-list data='{"centerCode":centerCode,"comCode":comCode}'
                                 my-class="col-xs-12"
                                 selectType="salesDepartment"
                                 ng-model="payClaim.claimQuery.comCode"
                                 ng-value="payClaim.claimQuery.comName"
                    >
                    </select-list>
                </div>

            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">业务员：</label>
                <div class="col-xs-7">
                    <select-list data='{"comCode":comCode,"checkComCode":payClaim.claimQuery.comCode}'
                                 my-class="col-xs-12"
                                 selectType="operatorName"
                                 ng-model="payClaim.claimQuery.handler1Code"
                                 ng-value="payClaim.claimQuery.handler1Name"
                    >
                </select-list></div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">投保人名称：</label>
                <div class="col-xs-7">
                    <input class="col-xs-12" type="text" ng-model="payClaim.claimQuery.appliName">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">被保人名称：</label>
                <div class="col-xs-7">
                    <input class="col-xs-12" type="text" ng-model="payClaim.claimQuery.insuredName">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">结案时间：</label>
                <div class="col-xs-7">
                    <input type="text" class="col-xs-12 date" ng-model="payClaim.claimQuery.endCaseDate" id="payClaim01" jedate format="YYYY-MM-DD"/>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">核赔时间：</label>
                <div class="col-xs-7">
                    <input type="text" class="col-xs-5 date" ng-model="payClaim.claimQuery.underWriteDateFrom" id="date5" jedate format="YYYY-MM-DD"/>
                    <span class="col-xs-2 text-center">至</span>
                    <input type="text" class="col-xs-5 date" ng-model="payClaim.claimQuery.underWriteDateTo" id="date6" jedate format="YYYY-MM-DD"/>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">业务类型：</label>
                <div class="col-xs-7">
                    <div mc-code-select class="col-xs-12 pl0 pr0" code="paymentBusinessType03" aria-disabled="true" aria-readonly="true" ng-model="payClaim.claimQuery.certiType"></div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 form-group">
                <label class="col-xs-4">赔款类型：</label>
                <div class="col-xs-7">
                    <div mc-code-select class="col-xs-12 pl0 pr0" code="lossTypeSign" aria-disabled="true" aria-readonly="true" ng-model="payClaim.claimQuery.lossType"></div>
                </div>
            </div>
            <div class="form-group"></div>

            <div class="row list_queryForm_btn">
                <button class="btn btn-success" ng-click="claimSearch('alertFlag')">查询</button>
                <button class="btn btn-primary" ng-click="resetClaim()">重置</button>
            </div>
        </form>
    </div>

    <!--列表内容-->
    <div class="venus_table">
        <span ng-if="payClaim.status.checkedClaimAll_disabled" class="color_red font_size_12">注：币种不同不能一起支付、应付金额和已支付金额相等不能进行支付</span>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th><input type="checkbox" ng-change="checkedBoxChanged()" ng-model="payClaim.status.checkedAccountAll" ng-disabled="payClaim.status.checkedClaimAll_disabled"></th>
                    <th>计算书号</th>
                    <th>费用类型</th>
                    <th>保单号/批单号</th>
                    <th>业务类型</th>
                    <th>赔款类型</th>
                    <th>机构代码</th>
                    <th>机构名称</th>
                    <th>应付币种</th>
                    <th>应付金额</th>
                    <th>已支付金额(应收付币种)</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="claim in payClaim.claimList track by $index" ng-class="{true: 'venus_table_check', false: ''}[claim.checked]">
                    <td ng-class="claim.selectedClass" ng-mouseover="display=true;" ng-mouseleave="display=false;">
                        <input  type="checkbox" ng-change="checkedBoxChanged(claim)" ng-model="claim.checked" ng-disabled="!(claim.currency1==payClaim.status.currency1||payClaim.status.disabled) || claim.realPayRefFee==claim.planFee">
                        <!--<span ng-if="!(claim.currency1==payClaim.status.currency1||payClaim.status.disabled)&&display"  class="color_red" style="font-size: 12px;background: white;width: 4px;position: absolute">注：币种不同不能同时勾选</span>-->

                    </td>
                    <td>{{claim.compensateNo}}</td>
                    <td>{{claim.payRefReasonName}}</td>
                    <td>{{claim.policyNo}}</td>
                    <td>{{claim.certiType |mcCode:"paymentBusinessType03"}}</td>
                    <td>{{claim.lossType |mcCode:"lossTypeSign"}}</td>
                    <td>{{claim.comCode |mcCode:"comCode"}}</td>
                    <td>{{claim.comCName}}</td>
                    <td>{{claim.currency1 | mcCode:"Currency"}}</td>
                    <td>{{claim.planFee | format}}</td>
                    <td>{{claim.realPayRefFee | format}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!--表格底部-->
    <div ng-if="payClaim.claimList.length>0" class="row list_content_bottom">
        <span class="text-left" align="bottom">共{{payClaim.pagination.totalItems}}条记录</span>
        <pagination
                ng-if="payClaim.pagination.totalItems>payClaim.pagination.pageSize"
                ng-model="payClaim.pagination.pageIndex"
                class="pagination-sm pull-right"
                total-items="payClaim.pagination.totalItems"
                page="payClaim.pagination.pageIndex"
                items-per-page="payClaim.pagination.pageSize"
                max-size="payClaim.pagination.maxSize"
                previous-text="{{payClaim.pagination.previousText}}"
                next-text="{{payClaim.pagination.nextText}}"
                first-text="{{payClaim.pagination.firstText}}"
                last-text="{{payClaim.pagination.lastText}}"
                ng-click="claimSearch()"
                class="pagination-small"
                boundary-links="true"
                on-select-page="onSelectPage(page)">
        </pagination>
    </div>

    <!--列表底部悬浮块-->
    <div class="row text-center list_footer" ng-if="payClaim.checkedRecords.length>0">
        <button class="btn btn-link" ng-click="selectedSubmit()" style="color: #cb2028">总金额{{payClaim.status.currency1}} {{payClaim.selectedPay | format}}</button>
        <button class="btn btn-success" ng-click="selectedSubmit()">确认{{payClaim.checkedRecords.length}}笔付款</button>
        <!--<button class="btn btn-primary">导出excel</button>-->
    </div>
</div>


